<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE FBType SYSTEM "http://www.holobloc.com/xml/LibraryElement.dtd">
<FBType Comment="Basic Function Block Type" Name="DRAND">
  <Identification Standard="61499-2"/>
  <VersionInfo Author="4DIAC-IDE" Date="2011-12-18" Organization="4DIAC-Consortium" Version="0.0"/>
  <InterfaceList>
    <EventInputs>
      <Event Comment="Normal Execution Request" Name="REQ" Type="Event">
        <With Var="Seed"/>
      </Event>
    </EventInputs>
    <EventOutputs>
      <Event Comment="Execution Confirmation" Name="CNF" Type="Event">
        <With Var="Num"/>
      </Event>
    </EventOutputs>
    <InputVars>
      <VarDeclaration Comment="Input event qualifier" Name="Seed" Type="INT"/>
    </InputVars>
    <OutputVars>
      <VarDeclaration Comment="Output event qualifier" Name="Num" Type="LREAL"/>
    </OutputVars>
  </InterfaceList>
  <BasicFB>
    <InternalVars>
      <VarDeclaration ArraySize="256" Comment="Internal Variable" InitialValue="[8.27801937895781e-2, 7.77203021286336e-1, 7.86770428015564e-1, 5.83016708628977e-1,   2.78400854505226e-1, 8.44068055237659e-1, 9.33730067902648e-1, 1.37941557946136e-1,   5.75356679636835e-1, 8.14328221560998e-1, 1.38490882734417e-1, 4.38223849851225e-1,   9.60296025024796e-1, 1.46593423361563e-1, 4.3044174868391e-1, 1.83566033417258e-2,   9.10353246356909e-2, 3.64629587243458e-1, 9.42763408865492e-1, 2.14267185473411e-1,   6.48950942244602e-1, 8.58762493324178e-1, 8.78263523308156e-1, 9.79797055008774e-1,   1.98413061722744e-1, 1.42000457770657e-1, 9.95132372014954e-1, 8.42298008697643e-3,   9.72823682001984e-1, 9.33669031815061e-1, 2.93446250095369e-1, 8.24750133516442e-1,   6.57022964827955e-1, 7.64232852674144e-1, 8.51804379339285e-1, 6.84916456855116e-1,   2.45975432974747e-1, 4.04211490043488e-1, 6.98084992751965e-1, 1.01503013656825e-1,   8.18677042801557e-1, 7.43831540398261e-1, 4.68604562447547e-1, 4.72220950637064e-1,   7.2129396505684e-1, 5.30128938735027e-1, 5.14900434882124e-1, 5.39391165026322e-1,   5.72961013199054e-1, 3.13145647364004e-1, 1.13191424429694e-1, 1.38094148165103e-1,   4.96284428168155e-1, 6.23498893720913e-1, 2.56473640039674e-1, 6.77164873731594e-1,   5.6900892652781e-2, 8.20630197604334e-2, 8.65949492637522e-1, 8.04837109941253e-1,   2.95674067292287e-1, 4.89204242008087e-2, 7.47005416952774e-1, 5.57076371404593e-1,   4.91783016708629e-1, 5.29915312428474e-1, 9.47188525215534e-1, 5.49889372091249e-1,   2.26489662012665e-1, 1.86968795300221e-1, 6.21179522392615e-1, 8.9741359578851e-1,   1.25780117494469e-1, 5.9464408331426e-1, 8.18204013122759e-1, 5.04798962386511e-1,   3.11284046692607e-2, 1.22056916151675e-1, 4.05874723430228e-1, 4.56092164492256e-2,   2.77164873731594e-1, 5.46684977492943e-1, 5.66659037155719e-1, 9.65712977798123e-1,   5.26649881742581e-1, 7.47280079346914e-1, 9.25749599450675e-1, 4.30350194552529e-1,   8.03112840466926e-1, 3.95269703212024e-1, 4.95490959029526e-1, 5.86678873884184e-1,   8.96940566109713e-1, 9.30556191348135e-1, 1.829098954757e-1, 2.22629129472801e-2,   9.4198519874876e-1, 2.01647974364843e-1, 4.95124742504006e-1, 8.69459067673762e-1,   9.65255207141222e-1, 2.44800488288701e-1, 6.10986495765622e-1, 8.09567406729229e-1,   9.08552681773099e-1, 8.32898451209278e-1, 1.82040131227589e-2, 5.68352788586252e-1,   4.48920424200809e-1, 6.48462653543908e-1, 6.67277027542535e-2, 7.86633096818494e-1,   4.97734035248341e-1, 9.84039063096056e-1, 9.34157320515755e-2, 8.07980468451972e-1,   9.44914930952926e-1, 6.27679865720607e-1, 9.73022049286641e-1, 1.90920881971466e-1,   1.51201647974365e-1, 4.97474631876097e-1, 6.37872892347601e-1, 3.98840314335851e-1,   6.76707103074693e-1, 8.46524757763028e-1, 7.90203707942321e-1, 3.15358205539025e-1,   5.25123979552911e-1, 1.22926680399787e-1, 7.66384374761578e-1, 6.80888075074388e-1,   4.4591439688716e-1, 7.27885862516213e-1, 4.94148165102617e-1, 8.94254978255894e-1,   5.37117570763714e-1, 1.297932402533e-1, 3.95757991912719e-1, 8.09948882276646e-1,   5.79720759899291e-1, 7.28099488822767e-1, 9.85885404745556e-1, 1.12382696269169e-1,   7.52224002441444e-1, 7.13237201495384e-1, 1.41588464179446e-1, 6.54215304798963e-1,   3.85076676585031e-1, 2.48523689631495e-1, 6.98252841992828e-2, 7.81322957198444e-1,   9.13618677042802e-1, 7.97940032043946e-1, 3.13435568780041e-1, 4.1551842526894e-1,   3.59288929579614e-1, 1.3852140077821e-1, 5.46395056076906e-1, 8.81361104753186e-1,   9.0411230640116e-1, 7.06965743495842e-1, 1.72152285038529e-1, 5.76623178454261e-1,   8.23239490348669e-1, 2.70695048447395e-1, 6.13000686655986e-1, 1.72365911345083e-1,   8.58747234302281e-1, 4.49988555733578e-2, 1.41680018310826e-1, 5.30464637216755e-1,   3.53093766689555e-2, 9.17479209582666e-1, 2.65430685893034e-1, 1.80651560234989e-1,   4.5279621576257e-1, 8.39856565194171e-2, 3.98535133897917e-1, 5.21934843976501e-1,   8.39627679865721e-1, 1.24025329976349e-1, 2.94117647058824e-1, 4.76264591439689e-1,   5.59472037842375e-1, 3.98764019226368e-1, 5.26741435873961e-2, 5.72457465476463e-1,   8.95201037613489e-1, 8.66529335469597e-1, 4.42847333485924e-1, 1.53643091477836e-1,   9.36736095216297e-1, 3.38002594033723e-1, 1.12306401159686e-1, 8.44129091325246e-1,   1.41451132982376e-1, 9.04951552605478e-1, 6.93553063248646e-1, 2.60334172579538e-1,   8.36377508201724e-1, 6.93476768139162e-1, 2.62272068360418e-1, 4.0004577706569e-1,   7.65346761272603e-1, 2.56412603952087e-1, 5.84954604409858e-1, 3.75280384527352e-1,   8.30090791180286e-3, 5.6554512855726e-1, 5.71358815899901e-1, 1.39436942092012e-1,   7.01441977569238e-1, 8.46845197222858e-1, 5.28465705348287e-1, 6.09872587167163e-1,   8.28503852903029e-1, 5.44213015945678e-1, 1.53139543755245e-1, 9.7404440375372e-1,   2.34775310902571e-1, 6.53986419470512e-1, 5.03501945525292e-1, 6.74448767833982e-3,   4.55481803616388e-2, 6.42694743266957e-1, 3.4189364461738e-1, 9.21232928969253e-1,   9.5551995117113e-2, 1.83413443198291e-1, 1.56038757915618e-1, 4.56244754711223e-3,   6.46036469062333e-1, 2.24032959487297e-1, 4.76340886549172e-1, 1.39467460135806e-2,   6.08621347371634e-1, 8.75043869687953e-1, 4.48584725719082e-1, 1.727473868925e-1,   1.19523918516823e-1, 2.54398413061723e-1, 9.06401159685664e-1, 5.9127183947509e-1,   9.89669642175937e-1, 4.98558022430762e-1, 3.52346074616617e-1, 4.6993209735256e-1,   4.91493095292592e-2, 7.19996948195621e-1, 8.51789120317388e-1, 1.8115510795758e-1,   1.10612649729153e-1, 5.69970244907302e-1, 8.36835278858625e-1, 6.67856870374609e-1]" Name="Data" Type="LREAL"/>
      <VarDeclaration Comment="Internal Variable" InitialValue="" Name="Idx" Type="INT"/>
      <VarDeclaration Comment="Internal Variable" InitialValue="" Name="SeedPrev" Type="INT"/>
    </InternalVars>
    <ECC>
      <ECState Comment="Initial State" Name="START" x="315.0" y="210.0"/>
      <ECState Comment="Normal execution" Name="REQ" x="215.0" y="750.0">
        <ECAction Algorithm="REQ" Output="CNF"/>
      </ECState>
      <ECTransition Comment="" Condition="REQ" Destination="REQ" Source="START" x="550.0" y="600.0"/>
      <ECTransition Comment="" Condition="1" Destination="START" Source="REQ" x="215.0" y="425.0"/>
    </ECC>
    <Algorithm Comment="Normally executed algorithm" Name="REQ">
      <ST Text="IF (SeedPrev &lt;&gt; Seed) THEN&#10;&#9;&#9;Idx := ABS( Seed );&#10;ELSE&#10;&#9;&#9;Idx := (Idx + 1) MOD 255;&#10;END_IF;&#10;&#9;Num := Data[Idx];&#10;&#9;SeedPrev := Seed;"/>
    </Algorithm>
  </BasicFB>
</FBType>
